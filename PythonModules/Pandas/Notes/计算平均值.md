# pandas 求和，求平均，统计

## 方法一

求和，求平均：

import pandas as pd
student = pd.read_excel("C:/Users/Administrator/Desktop/Students.xlsx",index_col="ID")
temp = student[["Test_1","Test_2","Test_3"]]
student["total"] = temp.sum(axis=1)#axis 0为列，1为行
student["avg"] = temp.mean(axis=1)
print(student)

算各科成绩平均，求和：

col_mean = student[["Test_1","Test_2","Test_3","total","avg"]].mean()
col_mean["Name"]="Summary"
student = student.append(col_mean,ignore_index=True)
student[["Test_1","Test_2","Test_3","total","avg"]] = student[["Test_1","Test_2","Test_3","total","avg"]].astype(int)
print(student)

append可直接加入一行

DataFrame.append(other, ignore_index=False, verify_integrity=False, sort=None)

# 方法二

df = pd.DataFrame({'A': [1, 1, 1, 2, 2, 3, 3],'B':[1, 4, 3, 2, 1, 3, 3],'C':[1, 4, 3, 2, 1, 3, 3]})
df

```
A	B	C
```

0	1	1	1
1	1	4	4
2	1	3	3
3	2	2	2
4	2	1	1
5	3	3	3
6	3	3	3

# 求A, B 两列平均值

df['D'] = df[['A', 'B']].mean(axis=1)
df

```
A	B	C	  D
```

0	1	1	1	1.0
1	1	4	4	2.5
2	1	3	3	2.0
3	2	2	2	2.0
4	2	1	1	1.5
5	3	3	3	3.0
6	3	3	3	3.0

# 同样用np.mean求

df.loc[:, 'E'] = np.mean([df['A'], df['B']], 0)  # 如果没有0,求的是A, B两列所有值和的平均数
df

```
A	B	C	  D	  E
```

0	1	1	1	1.0	1.0
1	1	4	4	2.5	2.5
2	1	3	3	2.0	2.0
3	2	2	2	2.0	2.0
4	2	1	1	1.5	1.5
5	3	3	3	3.0	3.0
6	3	3	3	3.0	3.0
