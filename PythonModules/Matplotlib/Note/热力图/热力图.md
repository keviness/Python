# matplotlib&seborn14-热图heatmap

# **本文您将学到什么?**

<pre data-tool="mdnice编辑器" data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)"><p data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)"><span data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">1、<strong data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">matplotlib</strong><strong data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">绘制热图</strong></span><br data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)"/></p><p data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">2、<strong data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">seaborn绘</strong><strong data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">制热图 </strong></p><p data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">2.0 数据集准备</p><section data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">2.1 seaborn绘制heatmap </section><section data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">2.1.1 seaborn默认参数绘制hetmap</section><section data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">2.1.2 colorbar（图例）范围修改：vmin、vmax</section><section data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">2.1.3 修改热图颜色盘（colormap）：cmp</section><ul class="list-paddingleft-2" data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)"><li data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)"><p data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">使用matplotlib中colormap</p></li><li data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)" data-node-id="20211209235558-z4917wf"><p data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">使用Seaborn颜色盘 </p></li><li data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)"><p data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">使用palettable库中颜色盘 </p></li></ul><section data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">2.1.4 修改图例中心数据值大小：center</section><section data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">2.1.5 热图中文本开关：annot</section><section data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">2.1.6 格子中数据的格式化输出：fmt</section><section data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">2.1.7 格子中数据（字体大小、磅值、颜色）等设置：annot_kws</section><section data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">2.1.8 格子外框宽度、颜色设置：linewidths、linecolor</section><section data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">2.1.9 图例开关：cbar</section><section data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">2.1.10 图例位置、名称、标签等设置：cbar_kws</section><section data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">2.1.11 热图中只显示部分符合条件的数据：mask</section><section data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">2.1.12 自定义x轴、y轴标签：xticklabels、yticklabels</section><p data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)">3、<span data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)|rgb(0, 0, 0)" data-style="color: rgb(0, 0, 0);" class="js_darkmode__14">seaborn.heatmap</span><strong data-darkmode-color-16390652964448="rgb(163, 163, 163)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)"><span data-darkmode-color-16390652964448="rgb(190, 48, 43)" data-darkmode-original-color-16390652964448="#fff|rgb(0,0,0)|rgb(186, 47, 42)" data-style="color: rgb(186, 47, 42);" class="js_darkmode__15">所有参数详解代码</span></strong></p></pre>

# **正文开始啦**

# 1、matplotlib绘制热图

matplotlib可通过以下两种方法绘制heamap；

* matplotlib.axes.Axes.imshow
* matplotlib.pyplot.imshow

原始效果图，挺丑陋的；![图片](https://mmbiz.qpic.cn/mmbiz_jpg/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qN6xbOd7MJ1IWrdztbwJDY864S4yEhEAZTsB9y9icFtTLcrXHVIQDV3w/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)改进后效果图（虽然要写很多辅助函数实现，但是可以很好的实现自定义热图，**需要高度个性化**的小伙伴可以去摸索）； ![图片](https://mmbiz.qpic.cn/mmbiz_jpg/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qZEMjJgjH6qUnqndHvh9WSH1fpYF7yAzEtZrNLxcAAIY0nnqwccgsTA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)![图片](https://mmbiz.qpic.cn/mmbiz_jpg/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qvoprT9RFemJ4V5x6iaIiaMsJvH0B72hicmWgFF6Q7ciaHThSf9tLtTiakvw/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

---

# 2、seaborn绘制热图

seaborn在matplotlib的基础上封装了个seaborn.heatmap， **非常傻瓜式操作** ，我等调包侠的福音，效果可以赶得上R语言了，不逼逼，下面上干货：

## 2.0 数据集准备

使用鸢尾花iris数据集，数据集详细介绍请戳：[鸢尾花iris数据集](https://mp.weixin.qq.com/s?__biz=MzUwOTg0MjczNw==&mid=2247484528&idx=2&sn=48cfeb144ee621ecbbe07a81d0fab220&chksm=f90d402ece7ac93812f70a97e7374e555d38077dfe1fbb9a0506d17133c6aea891ce54a67e91&scene=21#wechat_redirect)；

```
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd
from pandas import Series,DataFrame
import seaborn as sns
import palettable#python颜色库
from sklearn import datasets 


plt.rcParams['font.sans-serif']=['SimHei']  # 用于显示中文
plt.rcParams['axes.unicode_minus'] = False  # 用于显示中文

iris=datasets.load_iris()
x, y = iris.data, iris.target
pd_iris = pd.DataFrame(np.hstack((x, y.reshape(150, 1))),columns=['sepal length(cm)','sepal width(cm)','petal length(cm)','petal width(cm)','class'] )

plt.figure(dpi=200, figsize=(10,6))
data1 = np.array(pd_iris['sepal length(cm)']).reshape(25,6)#Series转np.array


df = pd.DataFrame(data1, 
                  index=[chr(i) for i in range(65, 90)],#DataFrame的行标签设置为大写字母
                  columns=["a","b","c","d","e","f"])#设置DataFrame的列标签
```

用来绘制热图的数据集是什么样子的？其实就是取iris中的一列（150个值），转化为一个25x6的DataFrame数据集，如下：

```
print(df.shape)
df.head()
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qn6xnob2OrKA6qLP8AEaIfLJJtQz3uBhgtjVZEoKE2T5HVLdJias9afQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)## 2.1 seaborn绘制heatmap

语法：seaborn.heatmap

### 2.1.1 seaborn默认参数绘制hetmap

```
plt.figure(dpi=120)
sns.heatmap(data=df,#矩阵数据集，数据的index和columns分别为heatmap的y轴方向和x轴方向标签               
         )
plt.title('所有参数默认')
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qibUtSm1Gogr1uJQ1ezdT8N6iawUV2OsNpVpEbYjyY0X8dXtXTjXlPHxw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

2.1.2 colorbar（图例）范围修改：vmin、vmax

```
#右侧colorbar范围修改
#注意colorbar范围变化，左图颜色随之变化
plt.clf()
plt.figure(dpi=120)
sns.heatmap(data=df,#矩阵数据集，数据的index和columns分别为heatmap的y轴方向和x轴方向标签
                 vmin=5,#图例（右侧颜色条color bar）中最小显示值 
                 vmax=8,#图例（右侧颜色条color bar）中最大显示值
           )
plt.title('右侧colorbar显示范围修改：vmin、vmax') 
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qS4d1nfIf2kJqT1vvN1mOWh2Vze9MWHo16X8gr9h6xK2htGELT38sibw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)### 2.1.3 修改热图颜色盘（colormap）：cmp

感觉默认颜色太丑陋，可以换个颜色盘，cmp参数控制hetmap颜色；
可以使用matplotlib颜色盘、seaborn颜色盘、palettable库中颜色盘

### 使用matplotlib中colormap

了解matplotlib中所有colormap请戳：[matplotlib中colormap使用详解](https://mp.weixin.qq.com/s?__biz=MzUwOTg0MjczNw==&mid=2247484329&idx=1&sn=20ec36f7f5077221671b32d47c3412c8&chksm=f90d47f7ce7acee11449c5584a11a020cf05c27f7a60b9357bbdc35181cc7e8420c594d09fc5&scene=21#wechat_redirect)

```
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=plt.get_cmap('Set3'),#使用matplotlib中的颜色盘
           )
plt.title("使用matplotlib中的颜色盘：cmap=plt.get_cmap('Set3')")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qqibW4wp5LpQIuEYTdYzAsvJL2OIOQQF0XHU4omIeL7JrLFGmp5SxSGA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

```
# 感觉颜色还是丑，那就再换个
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=plt.get_cmap('tab20c'),#matplotlib中的颜色盘'tab20c'
           )
plt.title("使用matplotlib中的颜色盘：cmap=plt.get_cmap('tab20c')")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1q1POCq6J2HyVmvz9E7lgjKmibqWTeMicJ8ZzqxcBz1Edzp9bfVPaB32Tw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

```
#感觉太油腻，太花哨，那就来个纯一点的（色度依次增加，请看右边图例颜色变化）
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=plt.get_cmap('Greens'),#matplotlib中的颜色盘'Greens'
           )
plt.title("使用matplotlib中的颜色盘：cmap=plt.get_cmap('Greens')")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qP0qpQ2jqn79TYxIQpXSqPuK8JiaD1u4UpEeOMlmwAft1ub13L6NMO6w/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

```
#色度依次递减，注意比较右边图例颜色变化
plt.figure(dpi=120)
sns.heatmap(data=df,                 
            #cmap选取的颜色条，有的是由浅到深（'Greens'），有的是相反的（'Greens_r'）
            cmap=plt.get_cmap('Greens_r'),#matplotlib中的颜色盘'Greens_r'
           )
plt.title("使用matplotlib中的颜色盘：cmap=plt.get_cmap('Greens_r')")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qybSSsBMu1xOP0Gib04477uhjHT5aEjjicYUaPy0ibDDeQvBB6t2JCl9kw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)### 使用Seaborn颜色盘

```
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=sns.dark_palette("#2ecc71", as_cmap=True),#seaborn 深色色盘：sns.dark_palette使用
           )
plt.title("使用seaborn dark颜色盘：cmap=sns.dark_palette('#2ecc71', as_cmap=True)")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qElBNwPL6qBC8yJJfSGtj7zbus8TJKAXlTDiad4MVeNeaTKKNhFrrJTw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

```
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=sns.light_palette("#2ecc71", as_cmap=True),#淡色色盘：sns.light_palette()使用
           )
plt.title("使用seaborn light颜色盘：sns.light_palette('#2ecc71', as_cmap=True)")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qibVqNMnKPLq5ksPHkTRI6P9zFZ0YrUQUUpXVCoBqxsWHs9Vg1EIYq3Q/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

```
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=sns.diverging_palette(10, 220, sep=80, n=7),#区分度显著色盘：sns.diverging_palette()使用
           )
plt.title("使用seaborn diverging颜色盘：sns.diverging_palette(10, 220, sep=80, n=7)")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qQiavsyx6h6ZXcRR4n1Pc7d9HKDnNzHrtbtW92asXU6YxogVsN3aWdzg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

```
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=sns.cubehelix_palette(as_cmap=True),#渐变色盘：sns.cubehelix_palette()使用
           )
plt.title("使用seaborn cubehelix颜色盘：sns.diverging_palette(220, 20, sep=20, as_cmap=True)")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1q8e4mGGibq5y1ib2VXic8Hdt5Sg3N2VtOspbC499RJbdoPuWhwiamn2AWDw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)### 使用palettable库中颜色盘

关于python palettable库使用请戳：[python Palettable库使用详解](https://mp.weixin.qq.com/s?__biz=MzUwOTg0MjczNw==&mid=2247484380&idx=1&sn=f591dd15bf5feb65fafe8622652b868d&chksm=f90d4782ce7ace9407245a0db4813c1d6547f88a06d5af5c5853c9211d1f5579939f5f76d6ed&scene=21#wechat_redirect)

```
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=palettable.cartocolors.diverging.ArmyRose_7.mpl_colors,#使用palettable库中颜色条
           )
plt.title("使用palettable库颜色盘：palettable.cartocolors.diverging.ArmyRose_7.mpl_colors")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qZpYQP8yWrP81zibIGvKJkmF2F2moWCZ6JzROxP8F9W2ReJKZlK0P4Cg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

```
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=palettable.cmocean.diverging.Curl_10.mpl_colors,#使用palettable库中颜色条
           )
plt.title("使用palettable库颜色盘：palettable.cmocean.diverging.Curl_10.mpl_colors")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qRQbYhJNMe235Jib9fJWFKfqHSJSay44C0PybuZ3YrPoAsKgvqjXkzVA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)

```
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=palettable.tableau.TrafficLight_9.mpl_colors,#使用palettable库中颜色条
           )
plt.title("使用palettable库颜色盘：palettable.tableau.TrafficLight_9.mpl_colors")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qFeEf5RibsAXwicJhm23wH0sgiaqWpNdmmlITicPQib2EBhiaMXhT5AKibJFWw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)### 2.1.4 修改图例中心数据值大小：center

```
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=palettable.cartocolors.diverging.ArmyRose_7.mpl_colors,
            center=7,#color bar的中心数据值大小，可以控制整个热图的颜盘深浅
           )
plt.title("color bar的中心数据值大小：center")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1q1b8r8rjbBfeVHdqpApwPCOvV8bZWTbTmJsHrxaoAL3qcttpUvbWoYw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)### 2.1.5 热图中文本开关：annot

```
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=palettable.cartocolors.diverging.ArmyRose_7.mpl_colors,
            annot=True,#默认为False，当为True时，在每个格子写入data中数据
           )
plt.title("每个格子写入data中数据：annot=True")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1q4tbjqHP56aqXq4hcuQ8FfQDaImGib9fMXOIBkhwMIhFY7JbjGLa9rcg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)### 2.1.6 格子中数据的格式化输出：fmt

```
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=palettable.cartocolors.diverging.ArmyRose_7.mpl_colors,
            annot=True,#默认为False，当为True时，在每个格子写入data中数据
            fmt=".2f",#设置每个格子中数据的格式，参考之前的文章，此处保留两位小数
           )
plt.title("格子中数据的格式化输出：fmt")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qsCQY4b5ibUiaILb7Hyx9EeI9ib4HsTUCGGt5EWwMSpHxj3kaHA0rmiaYGQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)### 2.1.7 格子中数据（字体大小、磅值、颜色）等设置：annot_kws

```
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=palettable.cartocolors.diverging.ArmyRose_7.mpl_colors,
            annot=True,#默认为False，当为True时，在每个格子写入data中数据
            annot_kws={'size':8,'weight':'normal', 'color':'blue'},#设置格子中数据的大小、粗细、颜色
           )
plt.title("格子中数据（字体大小、磅值、颜色）等设置：annot_kws")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qE7hFeMfYibuMia9nAEo9TfYtPwofjKDqc4EFKfAoKOd85ZynkJdLHfUg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)### 2.1.8 格子外框宽度、颜色设置：linewidths、linecolor

```
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=palettable.cartocolors.diverging.ArmyRose_7.mpl_colors,
            linewidths=1,#每个格子边框宽度，默认为0
            linecolor='red',#每个格子边框颜色,默认为白色
            
           )
plt.title("格子外框宽度、颜色设置：linewidths、linecolor")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1q9lqk6djDB8xQPicpZ53bMibKqDRTSz8M3GFgAfellO8neqCWSLcuibrXA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)### 2.1.9 图例开关：cbar

```
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=palettable.cartocolors.diverging.ArmyRose_7.mpl_colors,
            cbar=False,#右侧图例(color bar)开关，默认为True显示
           )
plt.title("图例开关：cbar")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qLIzRfiaKIuunMIph61ibXiathD156z4aUTcyygJEqO9aIicRL2Fs4z5NjA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)### 2.1.10 图例位置、名称、标签等设置：cbar_kws

```
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=palettable.cartocolors.diverging.ArmyRose_7.mpl_colors,
            cbar=True,
            cbar_kws={'label': 'ColorbarName', #color bar的名称
                           'orientation': 'horizontal',#color bar的方向设置，默认为'vertical'，可水平显示'horizontal'
                           "ticks":np.arange(4.5,8,0.5),#color bar中刻度值范围和间隔
                           "format":"%.3f",#格式化输出color bar中刻度值
                           "pad":0.15,#color bar与热图之间距离，距离变大热图会被压缩
                                                   },
            
           )
plt.title("图例位置、名称、标签等设置：cbar_kws")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qlSy8uqAgcibscPaONfcc0V8elUW4EFhqbJEntsXZBcALdDJw2C0dZ0A/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)### 2.1.11 热图中只显示部分符合条件的数据：mask

```
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=palettable.cartocolors.diverging.ArmyRose_7.mpl_colors,
            mask=df<6.0,#热图中显示部分数据：显示数值小于6的数据 
         )
plt.title("热图中只显示部分符合条件的数据：mask")
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1qQ2eicfhdR2KjEUK4QDa0Kd7TxolBYkF1C0u043suVALFyJiaRVWMwG1g/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)### 2.1.12 自定义x轴、y轴标签：xticklabels、yticklabels

```
# linewidths、linecolor参数
plt.figure(dpi=120)
sns.heatmap(data=df,
            cmap=palettable.cartocolors.diverging.ArmyRose_7.mpl_colors,
            xticklabels=['三连啊','关注公众号啊','pythonic生物人','收藏啊','点赞啊','老铁三连三连'] , #x轴方向刻度标签开关、赋值，可选“auto”, bool, list-like（传入列表）, or int,
            yticklabels=True, #y轴方向刻度标签开关、同x轴
         )
plt.title("自定义x轴、y轴标签：xticklabels、yticklabels")
#['sepal length(cm)','sepal width(cm)','petal length(cm)','petal width(cm)','class'] 
```

![图片](https://mmbiz.qpic.cn/mmbiz_png/UGxk62Z8n3S5qjKtPOrMx7VyeXKoOR1quqGywX3SziciaHkxdXaic3OdyRzib4eNHUPZbT2P2licXhNIaspxXetWIiag/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)
